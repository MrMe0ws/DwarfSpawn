# Changelog

## [1.1.1] - 01.12.25

### Добавлено

- **Фикс при перезагрузке плагина**

  - Корректная обработка при /ds reload . Если конфиг содержит ошибки - выдаст инфу об этом

## [1.1.0] - 30.11.25

### Добавлено

- **Стартовый набор (Start Kit)**

  - Автоматическая выдача стартового набора при первом входе на сервер (если у игрока нет точки спавна)
  - Автоматическая выдача стартового набора при смерти игрока (если у игрока нет кровати или якоря ада)
  - Система кулдауна для предотвращения злоупотребления: если игрок умирает повторно в течение заданного времени, набор не выдается
  - Полностью настраиваемый список предметов в конфиге
  - Полностью настраиваемые эффекты зелий в конфиге
  - Настройка времени кулдауна между выдачами набора

- **Запечатанная книга при первом входе**

  - Автоматическая выдача запечатанной книги новым игрокам при первом входе на сервер
  - Полностью настраиваемый текст книги в конфиге (заголовок, автор, страницы)
  - Поддержка цветовых кодов Minecraft (&a, &6, &l и т.д.)
  - Возможность включить/выключить выдачу книги

- **Новые настройки в config.yml**
  - `start-kit-enabled` - включить/выключить стартовый набор
  - `start-kit-cooldown` - время кулдауна между выдачами набора (в секундах)
  - `start-kit-items` - список предметов для стартового набора
  - `start-kit-effects` - список эффектов зелий для стартового набора
  - `first-join-book-enabled` - включить/выключить выдачу книги
  - `first-join-book-title` - заголовок книги
  - `first-join-book-author` - автор книги
  - `first-join-book-pages` - страницы книги

### Изменено

- Обновлен `ConfigManager` с новыми методами для чтения настроек стартового набора и книги
- Обновлен `PlayerDeathListener` для обработки выдачи стартового набора и книги
- Обновлен основной класс `DwarfSpawn` для инициализации нового менеджера стартового набора

## [1.0.2] - 27.11.25

### Добавлено

- **Базовая функциональность спавна**

  - Настройка радиуса спавна (случайный спавн в пределах указанного радиуса)
  - Включение/выключение радиуса спавна
  - Установка конкретной точки спавна
  - Проверка наличия блока над головой (игроки не спавнятся на открытом небе)
  - Настройка минимальной и максимальной высоты спавна
  - Автоматическое игнорирование игроков с кроватью или якорем возрождения

- **Команды**

  - Команда `/dwarfspawn reload` (или `/ds reload`, `/dwarf reload`) для перезагрузки конфигурации плагина
  - Права доступа `dwarfspawn.reload` (по умолчанию только для операторов)

- **Конфигурация**

  - Файл `config.yml` с настройками спавна
  - Параметры: `radius-enabled`, `spawn-radius`, `spawn-location`, `min-spawn-height`, `max-spawn-height`, `check-block-above`, `max-spawn-attempts`

- **Безопасность спавна**
  - Автоматический поиск безопасного места для спавна
  - Проверка наличия твердого блока под ногами
  - Проверка свободного места для спавна
  - Защита от спавна под водой или лавой
  - Защита от спавна в глубоких пещерах (минимальная высота)
  - Защита от спавна на открытом небе (опционально)

[1.1.0]: https://github.com/MrMe0ws/DwarfSpawn/compare/v1.0.2...v1.1.0
[1.0.2]: https://github.com/MrMe0ws/DwarfSpawn/releases/tag/v1.0.2
